<div class="container mt-5">

  <h1 class="mb-4">ğŸ“ Tasks Manager</h1>

  <% @tasks.each do |task| %>
    <div class="card mb-3 shadow-sm">
      <div class="card-body d-flex align-items-center">

        <!-- Task title -->
        <span class="<%= task.completed ? 'text-decoration-line-through text-muted' : '' %>">
          <%= link_to task.title, task_path(task), class: "task-link" %>
        </span>

        <!-- Checkbox -->
        <div class="ms-auto">
          <%= form_with model: task, url: task_path(task), method: :patch, local: true do |f| %>
            <%= f.check_box :completed,
                  { checked: task.completed,
                    onchange: "this.form.submit()",
                    class: "form-check-input" } %>
          <% end %>
        </div>

      </div>
    </div>
  <% end %>

  <div class="text-center mt-4">
    <%= link_to "Create a new task", new_task_path, class: "btn btn-primary" %>
  </div>

</div>
